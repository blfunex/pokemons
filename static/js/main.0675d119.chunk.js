(this.webpackJsonppokemons=this.webpackJsonppokemons||[]).push([[0],{12:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(7),a=n.n(s),o=(n(12),n(2)),i=n.n(o),u=n(3),p=n(4),f=n(6),l=n(0),j={fire:"#FDDFDF",grass:"#DEFDE0",electric:"#FCF7DE",water:"#DEF3FD",ground:"#f4e7da",rock:"#d5d5d4",fairy:"#fceaff",poison:"#98d7a5",bug:"#f8d5a3",dragon:"#97b3e6",psychic:"#eaeda1",flying:"#F5F5F5",fighting:"#E6E0D4",normal:"#F5F5F5"};function d(e){var t=e.open,n=e.onClose,c=e.pokemon.flavor,s=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=s.current;if(e)return t?(e.hasAttribute("open")&&e.removeAttribute("open"),e.showModal()):e.close(),e.addEventListener("close",n),function(){return e.removeEventListener("close",n)}}),[s,t,n]),Object(l.jsx)("dialog",{ref:s,children:c.map((function(e,t){return Object(l.jsx)("p",{children:e},t)}))})}function b(e){var t=e.pokemon,n=Object(r.useState)(!1),c=Object(u.a)(n,2),s=c[0],a=c[1],o=Object(r.useState)(!1),i=Object(u.a)(o,2),p=i[0],f=i[1],b=t.id,m=t.name,h=Object(u.a)(t.sprites,2),x=h[0],O=h[1],k=t.types,v=t.flavor,g=m[0].toUpperCase()+m.slice(1);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("article",{className:"pokedex-info",style:{background:j[k[0]]},children:[Object(l.jsx)("figure",{onClick:function(){return a(!s)},children:Object(l.jsx)("img",{className:s?"is-back":"",src:s?O:x,alt:"A depiction of ".concat(m)})}),Object(l.jsxs)("header",{children:[Object(l.jsx)("h3",{children:g}),Object(l.jsxs)("h5",{children:["#",b]})]}),Object(l.jsxs)("section",{children:[k.map((function(e,t){return Object(l.jsx)("span",{className:"nes-badge",children:Object(l.jsx)("span",{className:"is-dark",children:e})},t)})),Object(l.jsx)("p",{children:v[0]}),Object(l.jsx)("button",{type:"button",className:"nes-button",onClick:function(){return f(!0)},children:"More details"})]}),Object(l.jsx)(d,{pokemon:t,open:p,onClose:function(){return f(!1)}})]})})}function m(e,t){switch(t.type){case"ADD_POKEMONS":return Object(f.a)(Object(f.a)({},e),{},{pokemons:e.pokemons.concat(t.pokemons),next:t.next});default:return e}}var h={pokemons:[],next:"https://pokeapi.co/api/v2/pokemon/?limit=30"};function x(e,t){return fetch(e,t).then((function(e){return e.json()}))}function O(e,t){return Promise.all(e.map(t))}var k=new RegExp("\f","g");function v(e){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("https://pokeapi.co/api/v2/pokemon-species/".concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",n.flavor_text_entries.filter((function(e,t){return"en"===e.language.name})).map((function(e){return e.flavor_text.replace(k," ")})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return F.apply(this,arguments)}function F(){return(F=Object(p.a)(i.a.mark((function e(t){var n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.name,e.next=3,x(n);case 3:return c=e.sent,e.t0=c.id,e.t1=r,e.t2=[c.sprites.front_default,c.sprites.back_default],e.t3=c.types.map((function(e){return e.type.name})),e.next=10,v(c.id);case 10:return e.t4=e.sent,e.abrupt("return",{id:e.t0,name:e.t1,sprites:e.t2,types:e.t3,flavor:e.t4});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(){var e=Object(r.useReducer)(m,h),t=Object(u.a)(e,2),n=t[0],c=t[1];function s(){return a.apply(this,arguments)}function a(){return(a=Object(p.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(n.next);case 2:return t=e.sent,e.t0=c,e.next=6,O(t.results,y);case 6:e.t1=e.sent,e.t2=t.next,e.t3={type:"ADD_POKEMONS",pokemons:e.t1,next:e.t2},(0,e.t0)(e.t3);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){s()}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"pokedex",style:{overflowY:"auto"},children:n.pokemons.map((function(e,t){return Object(l.jsx)(b,{pokemon:e},t)}))}),Object(l.jsx)("button",{onClick:s,children:"Load more ..."})]})};a.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(E,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.0675d119.chunk.js.map