(this.webpackJsonppokemons=this.webpackJsonppokemons||[]).push([[0],{15:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(9),s=n.n(a),o=(n(15),n(3)),i=n.n(o),u=n(2),l=n(6),p=n(8),d=n(0);function j(e){var t=e.name,n=e.back,r=e.front,a=Object(c.useState)(!1),s=Object(u.a)(a,2),o=s[0],i=s[1];return Object(d.jsx)("figure",{className:"pokedex-image "+(o?"show-back":""),onClick:function(){return i(!o)},children:r&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{className:"is-front",src:r,alt:"A front view depiction of ".concat(t,".")}),n?Object(d.jsx)("img",{className:"is-back",src:n,alt:"A back view depiction of ".concat(t,".")}):Object(d.jsx)("img",{className:"is-back is-alt",src:r,alt:""})]})})}function b(){}var f,h=n(10),m=window.speechSynthesis,O=m?m.getVoices().filter((function(e){return"en-US"===e.lang})).sort((function(e,t){var n=e.name.toUpperCase(),c=t.name.toUpperCase();return n<c?-1:n===c?0:1})):[];var x=O.map((function(e){return e.name})),v=O.length>0?function(){var e=O.findIndex((function(e){return e.name.indexOf("David")>=0}));return e<0?0:e}():-1;function k(e){var t=e.pokemon.types;return Object(d.jsx)("div",{className:"pokedex-types",children:t.map((function(e,t){return Object(d.jsx)("span",{className:"nes-badge",children:Object(d.jsx)("span",{className:"is-dark",style:{color:y[e]},children:e})},t)}))})}function g(e){var t=e.pokemon,n=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(c.useEffect)((function(){e||null===m||void 0===m||m.cancel()}),[e]);var r=Object(c.useCallback)((function(){m&&(null===m||void 0===m||m.cancel())}),[]);return[Object(c.useCallback)((function(c){if(m&&(null===m||void 0===m||m.cancel(),e)){var r=new SpeechSynthesisUtterance(c);v>=0&&(r.voice=O[v]),r.pitch=t,r.lang="en-US",r.rate=n,m.speak(r)}}),[e,t,n]),r]}(),r=Object(u.a)(n,2),a=r[0],s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=Object(c.useState)(!1),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),o=Object(u.a)(s,2),i=o[0],l=o[1],p=Object(c.useRef)(null),d=Object(c.useCallback)((function(){l(window.getComputedStyle(document.body).overflow),document.body.style.overflow="hidden",a(!0)}),[]),j=Object(c.useCallback)((function(){document.body.style.overflow=i,a(!1)}),[i]),f=Object(c.useCallback)((function(){var e=p.current;e&&(e.removeAttribute("open"),e.showModal())}),[]),h=Object(c.useCallback)((function(){var t;null===(t=p.current)||void 0===t||t.close(),e(),j()}),[j,e]),m=Object(c.useCallback)((function(e){e.target===p.current&&j()}),[j]),O=Object(c.useCallback)((function(e){var t=p.current;p.current=e,t&&(t.removeEventListener("click",m),t.removeEventListener("close",h)),e&&(e.addEventListener("click",m),e.addEventListener("close",h))}),[m,h]);return Object(c.useEffect)((function(){r?f():h()}),[r,h,f]),[O,j,d,r]}(r[1]),o=Object(u.a)(s,3),i=o[0],l=o[1],p=o[2],f=t.flavor,h=t.name,x=t.sprites,g=t.types,y=f.length>0;return Object(d.jsx)(d.Fragment,{children:y?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:f[0]}),Object(d.jsxs)("div",{className:"pokedex-details",children:[Object(d.jsx)("button",{type:"button",className:"nes-btn is-primary is-small",onClick:function(){p(),a("This is ".concat(h,", ").concat(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";switch(e.length){case 0:return"";case 1:return"".concat(n," ").concat(e[0]," ").concat(t);case 2:return"".concat(n," ").concat(e[0]," and ").concat(e[1]," ").concat(t);default:return"".concat(n," ").concat(e.slice(0,-1).join(", ")," and ").concat(e[e.length-1]," ").concat(t)}}(g,"pokemon","it is a"),".\n").concat(f.join("\n")))},children:"More details"}),Object(d.jsxs)("dialog",{className:"nes-dialog pokedex-dialog",ref:i,children:[Object(d.jsxs)("header",{children:[Object(d.jsxs)("h3",{children:[h,"'s details"]}),Object(d.jsx)("button",{type:"button",onClick:l,children:Object(d.jsx)("i",{className:"nes-icon is-small close"})})]}),Object(d.jsxs)("main",{children:[Object(d.jsxs)("section",{children:[Object(d.jsx)("div",{children:Object(d.jsx)(k,{pokemon:t})}),Object(d.jsx)(j,{name:h,front:x[0],back:x[1]})]}),Object(d.jsx)("section",{children:f.map((function(e,t){return Object(d.jsx)("p",{children:e},t)}))})]})]})]})]}):Object(d.jsx)("p",{children:"No details were found about this pokemon"})})}(f=console).log.apply(f,Object(h.a)(x).concat(["\nSelected",x[v]]));var y={fire:"#FFA341",grass:"#98d7a5",electric:"#F2E04C",water:"#AABEFF",ground:"#D79624",rock:"#d5d5d4",fairy:"#FFC8CF",poison:"#BC8FED",bug:"#f8d5a3",dragon:"#97b3e6",psychic:"#eaeda1",flying:"#FFECC0",fighting:"#E6E0D4",normal:"#D5D5D5"},w=Object.keys(y);function C(e){var t=e.pokemon,n=t.id,c=t.name,r=t.types,a=t.sprites,s=w.find((function(e){return r.indexOf(e)>=0}));return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("article",{className:"pokedex-info",style:{background:s?y[s]:void 0},children:[Object(d.jsx)(j,{name:c,front:a[0],back:a[1]}),Object(d.jsxs)("section",{children:[Object(d.jsxs)("header",{children:[Object(d.jsx)("h3",{children:c}),Object(d.jsxs)("h5",{children:["#",n]})]}),Object(d.jsxs)("section",{children:[Object(d.jsx)(k,{pokemon:t}),Object(d.jsx)(g,{pokemon:t})]})]})]})})}function E(e,t){switch(t.type){case"ADD_POKEMONS":return Object(p.a)(Object(p.a)({},e),{},{pokemons:e.pokemons.concat(t.pokemons),next:t.next});default:return e}}var F={pokemons:[],next:"https://pokeapi.co/api/v2/pokemon/?limit=30"};function N(e,t){return fetch(e,t).then((function(e){if(200!==e.status)throw e.statusText;return e.json()}))}function S(e,t){return Promise.all(e.map(t)).then((function(e){return e.filter((function(e){return e}))}))}var D=new RegExp("\f|\\n","g");function A(e){return _.apply(this,arguments)}function _(){return(_=Object(l.a)(i.a.mark((function e(t){var n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N("https://pokeapi.co/api/v2/pokemon-species/".concat(t,"/"));case 3:return n=e.sent,c=n.flavor_text_entries.filter((function(e){return"en"===e.language.name})).map((function(e){return e.flavor_text.replace(D," ")})),r=c.map((function(e){return e.toLowerCase()})),e.abrupt("return",c.filter((function(e,t){return r.indexOf(r[t],t+1)<0})));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function L(e){return U.apply(this,arguments)}function U(){return(U=Object(l.a)(i.a.mark((function e(t){var n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,c=t.name,e.prev=1,e.next=4,N(n);case 4:return r=e.sent,e.t0=r.id,e.t1=c[0].toUpperCase()+c.slice(1),e.t2=[r.sprites.front_default,r.sprites.back_default],e.t3=r.types.map((function(e){return e.type.name})),e.next=11,A(r.id);case 11:return e.t4=e.sent,e.abrupt("return",{id:e.t0,name:e.t1,sprites:e.t2,types:e.t3,flavor:e.t4});case 15:return e.prev=15,e.t5=e.catch(1),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}var M=function(){var e=Object(c.useReducer)(E,F),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(u.a)(a,2),o=s[0],p=s[1];function j(){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.next){e.next=2;break}return e.abrupt("return",p(!0));case 2:return e.next=4,N(n.next);case 4:return t=e.sent,e.t0=r,e.next=8,S(t.results,L);case 8:e.t1=e.sent,e.t2=t.next,e.t3={type:"ADD_POKEMONS",pokemons:e.t1,next:e.t2},(0,e.t0)(e.t3);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){j()}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"pokedex",children:n.pokemons.map((function(e,t){return Object(d.jsx)(C,{pokemon:e},t)}))}),o||Object(d.jsx)("button",{onClick:j,children:"Load more ..."})]})};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(M,{})}),document.getElementById("root")),"https:"===location.protocol||location.host.startsWith("localhost")||(location.href=location.href.replace("http://","https://"))}},[[18,1,2]]]);
//# sourceMappingURL=main.0a62c5fc.chunk.js.map