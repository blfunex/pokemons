(this.webpackJsonppokemons=this.webpackJsonppokemons||[]).push([[0],{12:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(7),s=n.n(a),o=(n(12),n(3)),i=n.n(o),u=n(2),l=n(4),p=n(6),b=n(0);function j(e){var t=e.name,n=e.back,r=e.front,a=Object(c.useState)(!1),s=Object(u.a)(a,2),o=s[0],i=s[1];return Object(b.jsx)("figure",{className:"pokedex-image "+(o?"show-back":""),onClick:function(){return i(!o)},children:r&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("img",{className:"is-front",src:r,alt:"A front view depiction of ".concat(t,".")}),n?Object(b.jsx)("img",{className:"is-back",src:n,alt:"A back view depiction of ".concat(t,".")}):Object(b.jsx)("img",{className:"is-back is-alt",src:r,alt:""})]})})}function f(e){var t=e.pokemon,n=t.flavor,r=t.name,a=t.sprites,s=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(u.a)(a,2),o=s[0],i=s[1],l=Object(c.useRef)(null),p=Object(c.useCallback)((function(){i(window.getComputedStyle(document.body).overflow),document.body.style.overflow="hidden",r(!0)}),[]),b=Object(c.useCallback)((function(){document.body.style.overflow=o,r(!1)}),[o]),j=Object(c.useCallback)((function(){var e=l.current;e&&(e.removeAttribute("open"),e.showModal())}),[]),f=Object(c.useCallback)((function(){var e;null===(e=l.current)||void 0===e||e.close()}),[]),d=Object(c.useCallback)((function(e){e.target===l.current&&b()}),[b]),O=Object(c.useCallback)((function(e){var t=l.current;l.current=e,t&&(t.removeEventListener("click",d),t.removeEventListener("close",f)),e&&(e.addEventListener("click",d),e.addEventListener("close",f))}),[d,f]);return Object(c.useEffect)((function(){n?j():f()}),[n,f,j]),[O,b,p,n]}(),o=Object(u.a)(s,3),i=o[0],l=o[1],p=o[2],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=window.speechSynthesis,r=Object(c.useState)([]),a=Object(u.a)(r,2),s=a[0],o=a[1],i=Object(c.useState)([]),l=Object(u.a)(i,2),p=l[0],b=l[1],j=Object(c.useState)(-1),f=Object(u.a)(j,2),d=f[0],O=f[1];Object(c.useEffect)((function(){if(n){var e=n.getVoices().filter((function(e){return"en"===e.lang})).sort((function(e,t){var n=e.name.toUpperCase(),c=t.name.toUpperCase();return n<c?-1:n===c?0:1}));o(e),b(e.map((function(e){return e.name}))),e.length>0&&O(0)}}),[n]);var h=Object(c.useCallback)((function(c){if(n&&!(d<0)){n.cancel();var r=s[d],a=new SpeechSynthesisUtterance(c);a.voice=r,a.pitch=e,a.rate=t,n.speak(a)}}),[e,t,d,n,s]),m=Object(c.useCallback)((function(e){O(s.findIndex((function(t){return t.name===e})))}),[s]);return[h,m,p]}(),d=Object(u.a)(f,1)[0];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"pokedex-details",children:[Object(b.jsx)("button",{type:"button",className:"nes-button",onClick:function(){p(),d(n.join("\n"))},children:"More details"}),Object(b.jsxs)("dialog",{className:"nes-dialog pokedex-dialog",ref:i,children:[Object(b.jsxs)("header",{children:[Object(b.jsxs)("h3",{children:[r,"'s details"]}),Object(b.jsx)("button",{type:"button",onClick:l,children:Object(b.jsx)("i",{className:"nes-icon is-small close"})})]}),Object(b.jsxs)("main",{children:[Object(b.jsx)(j,{name:r,front:a[0],back:a[1]}),Object(b.jsx)("section",{children:n.map((function(e,t){return Object(b.jsx)("p",{children:e},t)}))})]})]})]})})}var d={fire:"#FFA341",grass:"#98d7a5",electric:"#F2E04C",water:"#AABEFF",ground:"#D79624",rock:"#d5d5d4",fairy:"#FFC8CF",poison:"#BC8FED",bug:"#f8d5a3",dragon:"#97b3e6",psychic:"#eaeda1",flying:"#FFECC0",fighting:"#E6E0D4",normal:"#D5D5D5"},O=Object.keys(d);function h(e){var t=e.pokemon,n=t.id,c=t.name,r=t.types,a=t.flavor,s=t.sprites,o=O.find((function(e){return r.indexOf(e)>=0})),i=a.length>0;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("article",{className:"pokedex-info",style:{background:o?d[o]:void 0},children:[Object(b.jsx)(j,{name:c,front:s[0],back:s[1]}),Object(b.jsxs)("section",{children:[Object(b.jsxs)("header",{children:[Object(b.jsx)("h3",{children:c}),Object(b.jsxs)("h5",{children:["#",n]})]}),Object(b.jsxs)("section",{children:[r.map((function(e,t){return Object(b.jsx)("span",{className:"nes-badge",children:Object(b.jsx)("span",{className:"is-dark",style:{color:d[e]},children:e})},t)})),i?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:a[0]}),Object(b.jsx)(f,{pokemon:t})]}):Object(b.jsx)("p",{children:"No details were found about this pokemon"})]})]})]})})}function m(e,t){switch(t.type){case"ADD_POKEMONS":return Object(p.a)(Object(p.a)({},e),{},{pokemons:e.pokemons.concat(t.pokemons),next:t.next});default:return e}}var x={pokemons:[],next:"https://pokeapi.co/api/v2/pokemon/?limit=30"};function k(e,t){return fetch(e,t).then((function(e){if(200!==e.status)throw e.statusText;return e.json()}))}function v(e,t){return Promise.all(e.map(t)).then((function(e){return e.filter((function(e){return e}))}))}var g=new RegExp("\f|\\n","g");function y(e){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(i.a.mark((function e(t){var n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("https://pokeapi.co/api/v2/pokemon-species/".concat(t,"/"));case 3:return n=e.sent,c=n.flavor_text_entries.filter((function(e){return"en"===e.language.name})).map((function(e){return e.flavor_text.replace(g," ")})),r=c.map((function(e){return e.toLowerCase()})),e.abrupt("return",c.filter((function(e,t){return r.indexOf(r[t],t+1)<0})));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function C(e){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(i.a.mark((function e(t){var n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,c=t.name,e.prev=1,e.next=4,k(n);case 4:return r=e.sent,e.t0=r.id,e.t1=c[0].toUpperCase()+c.slice(1),e.t2=[r.sprites.front_default,r.sprites.back_default],e.t3=r.types.map((function(e){return e.type.name})),e.next=11,y(r.id);case 11:return e.t4=e.sent,e.abrupt("return",{id:e.t0,name:e.t1,sprites:e.t2,types:e.t3,flavor:e.t4});case 15:return e.prev=15,e.t5=e.catch(1),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}var F=function(){var e=Object(c.useReducer)(m,x),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(u.a)(a,2),o=s[0],p=s[1];function j(){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.next){e.next=2;break}return e.abrupt("return",p(!0));case 2:return e.next=4,k(n.next);case 4:return t=e.sent,e.t0=r,e.next=8,v(t.results,C);case 8:e.t1=e.sent,e.t2=t.next,e.t3={type:"ADD_POKEMONS",pokemons:e.t1,next:e.t2},(0,e.t0)(e.t3);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){j()}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"pokedex",children:n.pokemons.map((function(e,t){return Object(b.jsx)(h,{pokemon:e},t)}))}),o||Object(b.jsx)("button",{onClick:j,children:"Load more ..."})]})};"https"===location.protocol||location.host.startsWith("localhost")||(location.href=location.href.replace("http://","https://")),s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(F,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.d7e884d0.chunk.js.map