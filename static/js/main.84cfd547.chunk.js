(this.webpackJsonppokemons=this.webpackJsonppokemons||[]).push([[0],{34:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(25),s=n.n(r),o=n(57),i=n(27),l=(n(34),n(5)),u=window.speechSynthesis,j=u?u.getVoices().filter((function(e){return"en-US"===e.lang})).sort((function(e,t){var n=e.name.toUpperCase(),c=t.name.toUpperCase();return n<c?-1:n===c?0:1})):[];j.map((function(e){return e.name}));var d=j.length>0?function(){var e=j.findIndex((function(e){return e.name.indexOf("David")>=0}));return e<0?0:e}():-1;var m=n(16),f=n.n(m),b=n(26),g=n(12),p=n.n(g),h=n(56);function O(e,t){var n=Object(c.useState)(null),a=Object(l.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(""),i=Object(l.a)(o,2),u=i[0],j=i[1],d=Object(c.useState)(!1),m=Object(l.a)(d,2),f=m[0],b=m[1];return Object(c.useEffect)((function(){var n,c=e[t];if(c)return s(c),j(""),void b(!1);var a=new p.a.CancelToken((function(e){return n=e}));return b(!0),p.a.get(t,{cancelToken:a}).then((function(n){var c=n.data;e[t]=c,s(c),b(!1)}),(function(e){p.a.isCancel(e)||(j(e),b(!1))})),function(){return n()}}),[e,t]),[r,u,f]}function v(e){return e[0].toUpperCase()+e.slice(1)}function x(e){var t=(e=v(e)).match(/([a-z]+)-([-a-z]+)$/i);if(t){var n=t[1],c=t[2];switch(c){case"f":case"female":return"Female ".concat(n);case"m":case"male":return"Male ".concat(n);case"jr":return"".concat(n," Junior");case"mime":case"rime":return"".concat(n," ").concat(c);case"red-meteor":return"Red meteor ".concat(n);case"red-striped":return"Red striped ".concat(n);case"single-strike":return"Single strike ".concat(n);case"rapid-strike":return"Rapid strike ".concat(n);case"oh":case"o":case"fini":case"koko":case"bulu":case"lele":return"".concat(n,"-").concat(c);case"amped-gmax":return"Amped gmax ".concat(n);case"low-key":return"Low key ".concat(n);case"low-key-gmax":return"Low key gmax ".concat(n);case"single-strike-gmax":return"Single strike gmax ".concat(n);case"rapid-strike-gmax":return"Rapid strike gmax ".concat(n);case"normal":case"crowned":case"totem":case"totem-busted":case"original":case"amped":case"ordinary":case"average":case"standard":case"disguised":case"altered":case"eternal":case"primal":case"core":case"small":case"large":case"hero":case"galar":case"mega":case"gmax":case"super":case"eternamax":return"".concat(v(c)," ").concat(n);case"mega-x":return"Mega X ".concat(n);case"mega-y":return"Mega Y ".concat(n);case"incarnate":return"".concat(n," ").concat(c);case"null":return"Type: Null";default:return"Porygon"===n?n+" "+c.toUpperCase():"Oricorio"===n?"".concat(n," (").concat(v(c)," style)"):"".concat(n," (").concat(v(c)," form)")}}return e}var A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJUExURQAAAP///wAAAHPGg3EAAAADdFJOU///ANfKDUEAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACoSURBVGhD7dJLCoRAEATRmb7/oedXIrOKyoYChYiNrYt8iD7WcAKYACaACWACmAAmgAlgApgAlgDPqm57tYEa/1XPOnWBWj6qp40S4DwFQh+ow7tIaAN1/TYB/CWATQPJ/g7w2Z8Esv0cCPdjIN1PgXg/BPL9DaCO3SJg4wVyoI7tBLBrfeSdBLCLAbf/Te8PjH+DnQQwAUwAE8AEMAFMABPABDABaK0XovlHYv9vwRMAAAAASUVORK5CYII=";function k(e,t){return t?A:e.sprites[1]||e.sprites[0]||A}var N={};var w={};function C(e){var t=Object(c.useState)(null),n=Object(l.a)(t,2),a=n[0],r=n[1],s=O(w,e),o=Object(l.a)(s,3),i=o[0],u=o[1],j=o[2];return Object(c.useEffect)((function(){i&&r(function(e){var t=e.name;return{id:e.id,nameId:t,name:x(t),species:e.species,sprites:[e.sprites.front_default,e.sprites.back_default],types:e.types.sort((function(e,t){return Math.sign(t.slot-e.slot)})).map((function(e){return e.type.name}))}}(i))}),[i]),[a,u,j]}function y(){}var S=n(0);function E(e){var t=e.name,n=e.sprites,a=Object(c.useState)(!1),r=Object(l.a)(a,2),s=r[0],o=r[1],i=Object(c.useState)(!1),u=Object(l.a)(i,2),j=u[0],d=u[1],m=Object(c.useCallback)((function(){d(!0)}),[]);Object(c.useEffect)((function(){o(!1),d(!1)}),[t]);var f=Object(c.useCallback)((function(){o(!s),d(!1)}),[s]),b=n[0]||A,g=n[1]||A,p=s?g:b,h=p===A;return Object(S.jsxs)("figure",{onClick:f,className:"pokemon-image",title:"Click to flip",children:[j||Object(S.jsx)("div",{className:"loading",children:Object(S.jsx)("i",{className:"gg-spinner"})}),Object(S.jsx)("img",{hidden:!j,onLoad:m,src:p,alt:"".concat(s?"Back":"Front"," view of ").concat(t,".")}),Object(S.jsx)("figcaption",{children:h?"No ".concat(t," ").concat(s?"back":"front"," view was found."):"".concat(s?"Back":"Front"," view of ").concat(t,".")})]})}function P(e){var t=e.types;return Object(S.jsx)("div",{className:"pokemon-types",children:t.map((function(e){return Object(S.jsx)(U,{type:e},e)}))})}function U(e){var t=e.type;return Object(S.jsx)("div",{className:"pokemon-type pokemon-type-".concat(t),children:t.toUpperCase()})}function I(e){var t=e.selected,n=e.unselect;return Object(S.jsx)(S.Fragment,{children:t?Object(S.jsx)(R,{selected:t,unselect:n}):Object(S.jsx)("article",{className:"pokemon-details closed",children:"Select a pokemon from the right panel."})})}function R(e){var t=e.selected,n=e.unselect,c=C(t.url),a=Object(l.a)(c,3),r=a[0],s=a[1],o=a[2],i=[];return o&&i.push("loading"),s&&i.push("error"),Object(S.jsx)("article",{className:"pokemon-details open ".concat(i.join(" ")),children:r?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(B,{unselect:n,children:[r.name,Object(S.jsxs)("code",{children:["#",r.id]})]}),Object(S.jsxs)("main",{children:[Object(S.jsx)(E,{name:r.name,sprites:r.sprites}),Object(S.jsx)(P,{types:r.types}),Object(S.jsx)(F,{pokemon:r})]})]}):o?Object(S.jsx)("i",{className:"gg-spinner"}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(B,{unselect:n,children:["Error loading data ",x(t.name)]}),Object(S.jsx)("main",{children:s})]})})}function B(e){var t=e.unselect,n=e.children;return Object(S.jsxs)("header",{children:[Object(S.jsx)("button",{onClick:t,children:Object(S.jsx)("i",{className:"gg-chevron-left"})}),Object(S.jsx)("h1",{children:n})]})}function F(e){var t,n=e.pokemon,a=function(e){var t=Object(c.useState)(null),n=Object(l.a)(t,2),a=n[0],r=n[1],s=O(N,e),o=Object(l.a)(s,3),i=o[0],u=o[1],j=o[2];return Object(c.useEffect)((function(){i&&r(function(e){var t,n;return{generationId:e.generation.name,flavorText:(null!==(t=null===(n=e.flavor_text_entries.find((function(e){return"en"===e.language.name})))||void 0===n?void 0:n.flavor_text)&&void 0!==t?t:"").replace(/\n|\f/g," ").trim()}}(i))}),[i]),[a,u,j]}(n.species.url),r=Object(l.a)(a,3),s=r[0],o=r[1],i=r[2],m=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.25,a=Object(c.useCallback)((function(){u&&(null===u||void 0===u||u.cancel())}),[]);return Object(c.useEffect)((function(){e||null===u||void 0===u||u.cancel()}),[e]),[Object(c.useCallback)((function(c){if(u&&(null===u||void 0===u||u.cancel(),e)){var a=new SpeechSynthesisUtterance(c);d>=0&&(a.voice=j[d]),a.pitch=t,a.lang="en-US",a.rate=n,u.speak(a)}}),[e,t,n]),a]}(),f=Object(l.a)(m,2),b=f[0],g=f[1];return Object(c.useEffect)((function(){if(s)return b((e=n.id,t=n.name,c=n.types,a=s.generationId,r=s.flavorText,"Pokemon number ".concat(e,", ").concat(t,". ").concat(t," ").concat(function(e,t,n){var c="";switch(t.length){case 0:break;case 1:c=t[0];break;case 2:c=t[0]+" and "+t[1];break;default:c=t.slice(-1).join(", ")+", and "+t[t.length-1]}return"".concat(e," ").concat(c," ").concat(n)}("is a ".concat(D[a]),c,"pokemon"),".\n").concat(r))),g;var e,t,c,a,r}),[g,b,n,s]),Object(c.useEffect)((function(){return g}),[g]),Object(S.jsxs)(S.Fragment,{children:[o&&Object(S.jsx)("div",{className:"pokemon-flavor-text",style:{color:"crimson"},children:"Failed to load text for this pokemon"}),i&&Object(S.jsx)("div",{className:"pokemon-flavor-text",style:{textAlign:"center"},children:Object(S.jsx)("i",{className:"gg-spinner"})}),s?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"pokemon-generation",children:["Generation"," ",Object(S.jsx)("code",{children:(t=s.generationId,t.slice(11).toUpperCase())})]}),Object(S.jsx)("div",{className:"pokemon-flavor-text",children:s.flavorText})]}):null]})}var D={"generation-i":"first generation","generation-ii":"second generation","generation-iii":"third generation","generation-iv":"fourth generation","generation-v":"fifth generation","generation-vi":"sixth generation","generation-vii":"seventh generation","generation-viii":"eighth generation"};var Y=n(28);function M(e){var t=e.pokemon,n=Object(c.useState)(!1),a=Object(l.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(!1),i=Object(l.a)(o,2),u=i[0],j=i[1],d=Object(c.useCallback)((function(){s(!0)}),[]),m=Object(c.useCallback)((function(){s(!0),j(!0)}),[]);return Object(S.jsxs)(S.Fragment,{children:[t?Object(S.jsx)("img",{hidden:!r,className:"unknown-pokemon-image",src:k(t,u),onLoad:d,onError:m,alt:""}):null,r?null:Object(S.jsx)("div",{className:"unknown-pokemon-image",children:Object(S.jsx)("div",{className:"gg-spinner"})})]})}function T(e){var t=e.pokemon,n=C(t.url),c=Object(l.a)(n,1)[0];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(M,{pokemon:c}),Object(S.jsx)("div",{className:"pokemon-name",children:c?c.name:x(t.name)}),Object(S.jsxs)("div",{className:"pokemon-id",children:["#",c?c.id:J(t)]})]})}function J(e){var t=e.url;return t.slice(t.lastIndexOf("/",t.length-2)+1,-1)}function L(e){var t=e.selected,n=e.setSelected,a=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(h.a)("pokemons",function(){var e=Object(b.a)(f.a.mark((function e(t){var n,c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===(n=t.pageParam)?0:n,c="".concat("https://pokeapi.co/api/v2/pokemon/","?limit=").concat(50,"&offset=").concat(50*r),e.next=4,p.a.get(c,{});case 4:return a=e.sent,e.abrupt("return",a.data.results);case 6:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}(),{getNextPageParam:function(e,t){return!!e.length&&t.length}}),s=r.isFetchingNextPage,o=r.hasNextPage,i=r.fetchNextPage,u=r.status,j=r.error,d=r.data;return Object(c.useEffect)((function(){d&&a(d.pages.flat(1))}),[d]),[n,!o,i,s,j,u]}(),r=Object(l.a)(a,4),s=r[0],o=r[1],i=r[2],u=r[3],j=Object(c.useRef)(null),d=Object(Y.a)({parentRef:j,size:o?s.length:s.length+1,estimateSize:Object(c.useCallback)((function(){return 40}),[])}),m=d.virtualItems,g=d.totalSize;return Object(c.useEffect)((function(){var e=m[m.length-1];if(e){var t=!o&&!u,n=e.index>=s.length-1;t&&n&&i()}}),[s.length,m,u,o,i]),Object(S.jsx)("nav",{ref:j,className:"pokemon-navigation",children:Object(S.jsx)("ul",{style:{height:g},children:m.map((function(e){var c=e.index>s.length-1,a=c&&!o,r=s[e.index];return Object(S.jsx)("li",{className:a?"loading":!t||t!==r&&t.name!==r.name?"":"active",tabIndex:e.index+1,ref:e.measureRef,style:{transform:"translateY(".concat(e.start,"px)")},onClick:c?y:function(){return n(r)},children:a?Object(S.jsx)("div",{className:"unknown-pokemon-image",children:Object(S.jsx)("div",{className:"gg-spinner"})}):c?null:Object(S.jsx)(T,{pokemon:r})},e.index)}))})})}function Q(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(c.useCallback)((function(){return a(null)}),[]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(G,{}),Object(S.jsx)(L,{selected:n,setSelected:a}),Object(S.jsx)(I,{selected:n,unselect:r}),Object(S.jsx)(K,{})]})}function G(){return Object(S.jsx)("header",{children:Object(S.jsx)("h1",{children:"Pokedex"})})}function K(){return Object(S.jsxs)("footer",{children:[Object(S.jsx)("p",{children:"All right rights reserved to their respective owners."}),Object(S.jsxs)("p",{children:["Website made using ",Object(S.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://pokeapi.co/docs/v2",children:"PokeAPI"})," backend. Source available on ",Object(S.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/blfunex/pokemons/",children:"GitHub"}),"."]}),Object(S.jsx)("p",{children:"Pokemons are a \xa9 intellectual property of Nintendo."})]})}var W=new o.a;s.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(i.a,{client:W,children:Object(S.jsx)(Q,{})})}),document.getElementById("root")),"https:"===location.protocol||location.host.startsWith("localhost")||(location.href=location.href.replace("http://","https://"))}},[[55,1,2]]]);
//# sourceMappingURL=main.84cfd547.chunk.js.map