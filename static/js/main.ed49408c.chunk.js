(this.webpackJsonppokemons=this.webpackJsonppokemons||[]).push([[0],{12:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(7),a=n.n(s),i=(n(12),n(3)),o=n.n(i),u=n(2),l=n(4),p=n(6),j=n(0);function f(e){var t=e.name,n=e.back,c=e.front,s=Object(r.useState)(!1),a=Object(u.a)(s,2),i=a[0],o=a[1];return Object(j.jsx)("figure",{className:"pokedex-image "+(i?"show-back":""),onClick:function(){return o(!i)},children:c&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("img",{className:"is-front",src:c,alt:"A front view depiction of ".concat(t,".")}),n?Object(j.jsx)("img",{className:"is-back",src:n,alt:"A back view depiction of ".concat(t,".")}):Object(j.jsx)("img",{className:"is-back is-alt",src:c,alt:""})]})})}function b(e){var t=e.pokemon,n=t.flavor,c=t.name,s=t.sprites,a=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(r.useRef)(null);function a(){c(!1)}return Object(r.useEffect)((function(){var e=s.current;e&&(n?(e.removeAttribute("open"),e.showModal()):e.close())}),[s,n]),Object(r.useEffect)((function(){var e=s.current;if(e){var t=function(t){t.target===e&&a()};return e.addEventListener("click",t),e.addEventListener("close",a),function(){e.addEventListener("click",t),e.removeEventListener("close",a)}}}),[s]),[s,a,function(){c(!0)},n]}(),i=Object(u.a)(a,3),o=i[0],l=i[1],p=i[2];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{type:"button",className:"nes-button",onClick:p,children:"More details"}),Object(j.jsxs)("dialog",{className:"nes-dialog pokedex-dialog",ref:o,children:[Object(j.jsxs)("header",{children:[Object(j.jsxs)("h3",{children:[c,"'s details"]}),Object(j.jsx)("button",{type:"button",onClick:l,children:Object(j.jsx)("i",{className:"nes-icon is-small close"})})]}),Object(j.jsxs)("main",{children:[Object(j.jsx)(f,{name:c,front:s[0],back:s[1]}),Object(j.jsx)("section",{children:n.map((function(e,t){return Object(j.jsx)("p",{children:e},t)}))})]})]})]})}var d={fire:"#FFA341",grass:"#98d7a5",electric:"#F2E04C",water:"#AABEFF",ground:"#D79624",rock:"#d5d5d4",fairy:"#FFC8CF",poison:"#BC8FED",bug:"#f8d5a3",dragon:"#97b3e6",psychic:"#eaeda1",flying:"#FFECC0",fighting:"#E6E0D4",normal:"#D5D5D5"},m=Object.keys(d);function x(e){var t=e.pokemon,n=t.id,r=t.name,c=t.types,s=t.flavor,a=t.sprites,i=m.find((function(e){return c.indexOf(e)>=0})),o=s.length>0;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("article",{className:"pokedex-info",style:{background:i?d[i]:void 0},children:[Object(j.jsx)(f,{name:r,front:a[0],back:a[1]}),Object(j.jsxs)("section",{children:[Object(j.jsxs)("header",{children:[Object(j.jsx)("h3",{children:r}),Object(j.jsxs)("h5",{children:["#",n]})]}),Object(j.jsxs)("section",{children:[c.map((function(e,t){return Object(j.jsx)("span",{className:"nes-badge",children:Object(j.jsx)("span",{className:"is-dark",style:{color:d[e]},children:e})},t)})),o?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:s[0]}),Object(j.jsx)(b,{pokemon:t})]}):Object(j.jsx)("p",{children:"No details were found about this pokemon"})]})]})]})})}function O(e,t){switch(t.type){case"ADD_POKEMONS":return Object(p.a)(Object(p.a)({},e),{},{pokemons:e.pokemons.concat(t.pokemons),next:t.next});default:return e}}var h={pokemons:[],next:"https://pokeapi.co/api/v2/pokemon/?limit=30"};function k(e,t){return fetch(e,t).then((function(e){if(200!==e.status)throw e.statusText;return e.json()}))}function v(e,t){return Promise.all(e.map(t)).then((function(e){return e.filter((function(e){return e}))}))}var g=new RegExp("\f|\\n","g");function y(e){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("https://pokeapi.co/api/v2/pokemon-species/".concat(t,"/"));case 3:return n=e.sent,r=n.flavor_text_entries.filter((function(e){return"en"===e.language.name})).map((function(e){return e.flavor_text.replace(g," ")})),c=r.map((function(e){return e.toLowerCase()})),e.abrupt("return",r.filter((function(e,t){return c.indexOf(c[t],t+1)<0})));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function E(e){return F.apply(this,arguments)}function F(){return(F=Object(l.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.name,e.prev=1,e.next=4,k(n);case 4:return c=e.sent,e.t0=c.id,e.t1=r[0].toUpperCase()+r.slice(1),e.t2=[c.sprites.front_default,c.sprites.back_default],e.t3=c.types.map((function(e){return e.type.name})),e.next=11,y(c.id);case 11:return e.t4=e.sent,e.abrupt("return",{id:e.t0,name:e.t1,sprites:e.t2,types:e.t3,flavor:e.t4});case 15:return e.prev=15,e.t5=e.catch(1),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}var N=function(){var e=Object(r.useReducer)(O,h),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(!1),a=Object(u.a)(s,2),i=a[0],p=a[1];function f(){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.next){e.next=2;break}return e.abrupt("return",p(!0));case 2:return e.next=4,k(n.next);case 4:return t=e.sent,e.t0=c,e.next=8,v(t.results,E);case 8:e.t1=e.sent,e.t2=t.next,e.t3={type:"ADD_POKEMONS",pokemons:e.t1,next:e.t2},(0,e.t0)(e.t3);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){f()}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"pokedex",children:n.pokemons.map((function(e,t){return Object(j.jsx)(x,{pokemon:e},t)}))}),i||Object(j.jsx)("button",{onClick:f,children:"Load more ..."})]})};a.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.ed49408c.chunk.js.map