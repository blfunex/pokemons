{"version":3,"sources":["components/image.tsx","components/details.tsx","hooks/useModalDialog.ts","hooks/useSpeechSynthesis.ts","PokedexInfo.tsx","App.tsx","index.tsx"],"names":["PokemonImage","name","back","front","useState","showBack","setShowBack","className","onClick","src","alt","PokemonDetails","pokemon","flavor","sprites","isOpen","setIsOpen","overflow","setOriginalOverflow","ref","useRef","open","useCallback","window","getComputedStyle","document","body","style","close","onOpenDialog","dialog","current","removeAttribute","showModal","onCloseDialog","onDialogBackdropClicked","event","target","callback","node","removeEventListener","addEventListener","useEffect","useModalDialog","pitch","rate","synth","speechSynthesis","voices","setVoices","names","setNames","selected","setSelectedVoice","getVoices","filter","voice","lang","sort","a","b","aname","toUpperCase","bname","map","length","speak","text","cancel","utterance","SpeechSynthesisUtterance","select","findIndex","useSpeechSynthesis","type","join","index","colors","fire","grass","electric","water","ground","rock","fairy","poison","bug","dragon","psychic","flying","fighting","normal","supportedTypes","Object","keys","PokedexInfo","id","types","main_type","find","indexOf","hasFlavorText","background","undefined","color","reducer","state","action","pokemons","concat","next","initial","fetchJSON","input","init","fetch","then","response","status","statusText","json","map_async","transform","Promise","all","list","x","rxWierdCharacter","RegExp","fetchFlavorText","data","flavor_text_entries","entry","language","flavor_text","replace","lowercase","toLowerCase","_","fetchPokemon","url","slice","front_default","back_default","item","App","useReducer","dispatch","done","setIsDone","fetchData","results","location","protocol","host","startsWith","href","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d7e884d0.chunk.js","sourcesContent":["import { useState } from \"react\";\n\nexport default function PokemonImage({\n  name,\n  back,\n  front,\n}: {\n  name: string;\n  back: string;\n  front: string;\n}) {\n  const [showBack, setShowBack] = useState(false);\n\n  return (\n    <figure\n      className={\"pokedex-image \" + (showBack ? \"show-back\" : \"\")}\n      onClick={() => setShowBack(!showBack)}\n    >\n      {front && (\n        <>\n          <img\n            className=\"is-front\"\n            src={front}\n            alt={`A front view depiction of ${name}.`}\n          />\n          {back ? (\n            <img\n              className=\"is-back\"\n              src={back}\n              alt={`A back view depiction of ${name}.`}\n            />\n          ) : (\n            <img className=\"is-back is-alt\" src={front} alt=\"\" />\n          )}\n        </>\n      )}\n    </figure>\n  );\n}\n","import PokemonImage from \"./image\";\n\nimport useModalDialog from \"../hooks/useModalDialog\";\n\nimport type { Pokemon } from \"../PokedexInfo\";\nimport useSpeechSynthesis from \"../hooks/useSpeechSynthesis\";\n\nexport default function PokemonDetails({\n  pokemon: { flavor, name, sprites },\n}: {\n  pokemon: Pokemon;\n}) {\n  const [ref, close, open] = useModalDialog();\n\n  const [speak] = useSpeechSynthesis();\n\n  return (\n    <>\n      <div className=\"pokedex-details\">\n        <button\n          type=\"button\"\n          className=\"nes-button\"\n          onClick={() => {\n            open();\n            speak(flavor.join(\"\\n\"));\n          }}\n        >\n          More details\n        </button>\n        <dialog className=\"nes-dialog pokedex-dialog\" ref={ref}>\n          <header>\n            <h3>{name}'s details</h3>\n            <button type=\"button\" onClick={close}>\n              <i className=\"nes-icon is-small close\"></i>\n            </button>\n          </header>\n          <main>\n            <PokemonImage\n              name={name}\n              front={sprites[0]}\n              back={sprites[1]}\n            />\n            <section>\n              {flavor.map((text, index) => (\n                <p key={index}>{text}</p>\n              ))}\n            </section>\n          </main>\n        </dialog>\n      </div>\n    </>\n  );\n}\n","import { useCallback, useEffect, useRef, useState } from \"react\";\n\nexport default function useModalDialog() {\n  const [isOpen, setIsOpen] = useState(false);\n  const [overflow, setOriginalOverflow] = useState(\"\");\n\n  const ref = useRef<HTMLDialogElement>(null!);\n\n  const open = useCallback(function open() {\n    setOriginalOverflow(window.getComputedStyle(document.body).overflow);\n    document.body.style.overflow = \"hidden\";\n    setIsOpen(true);\n  }, []);\n\n  const close = useCallback(\n    function close() {\n      document.body.style.overflow = overflow;\n      setIsOpen(false);\n    },\n    [overflow]\n  );\n\n  const onOpenDialog = useCallback(function onOpenDialog() {\n    const dialog = ref.current;\n    if (dialog) {\n      dialog.removeAttribute(\"open\");\n      dialog.showModal();\n    }\n  }, []);\n\n  const onCloseDialog = useCallback(function onCloseDialog() {\n    ref.current?.close();\n  }, []);\n\n  const onDialogBackdropClicked = useCallback(\n    function onDialogBackdropClicked(event: Event) {\n      if (event.target === ref.current) close();\n    },\n    [close]\n  );\n\n  const callback = useCallback(\n    function refDialogCallback(node: HTMLDialogElement) {\n      const current = ref.current;\n\n      ref.current = node;\n\n      if (current) {\n        current.removeEventListener(\"click\", onDialogBackdropClicked);\n        current.removeEventListener(\"close\", onCloseDialog);\n      }\n\n      if (node) {\n        node.addEventListener(\"click\", onDialogBackdropClicked);\n        node.addEventListener(\"close\", onCloseDialog);\n      }\n    },\n    [onDialogBackdropClicked, onCloseDialog]\n  );\n\n  useEffect(() => {\n    if (isOpen) {\n      onOpenDialog();\n    } else {\n      onCloseDialog();\n    }\n  }, [isOpen, onCloseDialog, onOpenDialog]);\n\n  return [callback, close, open, isOpen] as const;\n}\n","import { useCallback, useEffect, useState } from \"react\";\n\n// Inspired by https://mdn.github.io/web-speech-api/speak-easy-synthesis/\n\nexport default function useSpeechSynthesis(\n  pitch: number = 1,\n  rate: number = 1\n) {\n  const synth = window.speechSynthesis;\n\n  const [voices, setVoices] = useState<SpeechSynthesisVoice[]>([]);\n\n  const [names, setNames] = useState<string[]>([]);\n\n  const [selected, setSelectedVoice] = useState(-1);\n\n  useEffect(() => {\n    if (!synth) return;\n\n    const voices = synth\n      .getVoices()\n      .filter(voice => voice.lang === \"en\")\n      .sort(function (a, b) {\n        const aname = a.name.toUpperCase(),\n          bname = b.name.toUpperCase();\n        if (aname < bname) return -1;\n        else if (aname === bname) return 0;\n        else return +1;\n      });\n\n    setVoices(voices);\n\n    setNames(voices.map(voice => voice.name));\n\n    if (voices.length > 0) setSelectedVoice(0);\n  }, [synth]);\n\n  const speak = useCallback(\n    function speak(text: string) {\n      if (!synth || selected < 0) return;\n\n      synth.cancel();\n\n      const voice = voices[selected];\n      const utterance = new SpeechSynthesisUtterance(text);\n\n      utterance.voice = voice;\n      utterance.pitch = pitch;\n      utterance.rate = rate;\n\n      synth.speak(utterance);\n    },\n    [pitch, rate, selected, synth, voices]\n  );\n\n  const select = useCallback(\n    function select(name: string) {\n      setSelectedVoice(voices.findIndex(voice => voice.name === name));\n    },\n    [voices]\n  );\n\n  return [speak, select, names] as const;\n}\n","import PokemonDetails from \"./components/details\";\nimport PokemonImage from \"./components/image\";\n\nexport type Pokemon = {\n  id: string;\n  name: string;\n  sprites: [string, string];\n  flavor: string[];\n  types: string[];\n};\n\ninterface PokedexInfoProps {\n  pokemon: Pokemon;\n}\n\nconst colors: Record<string, string> = {\n  fire: \"#FFA341\",\n  grass: \"#98d7a5\",\n  electric: \"#F2E04C\",\n  water: \"#AABEFF\",\n  ground: \"#D79624\",\n  rock: \"#d5d5d4\",\n  fairy: \"#FFC8CF\",\n  poison: \"#BC8FED\",\n  bug: \"#f8d5a3\",\n  dragon: \"#97b3e6\",\n  psychic: \"#eaeda1\",\n  flying: \"#FFECC0\",\n  fighting: \"#E6E0D4\",\n  normal: \"#D5D5D5\",\n};\n\nconst supportedTypes = Object.keys(colors);\n\nexport default function PokedexInfo({ pokemon }: PokedexInfoProps) {\n  const { id, name, types, flavor, sprites } = pokemon;\n\n  const main_type = supportedTypes.find(type => types.indexOf(type) >= 0);\n\n  const hasFlavorText = flavor.length > 0;\n\n  return (\n    <>\n      <article\n        className=\"pokedex-info\"\n        style={{\n          background: main_type ? colors[main_type] : undefined,\n        }}\n      >\n        <PokemonImage name={name} front={sprites[0]} back={sprites[1]} />\n        <section>\n          <header>\n            <h3>{name}</h3>\n            <h5>#{id}</h5>\n          </header>\n          <section>\n            {types.map((type, index) => (\n              <span key={index} className=\"nes-badge\">\n                <span\n                  className=\"is-dark\"\n                  style={{\n                    color: colors[type],\n                  }}\n                >\n                  {type}\n                </span>\n              </span>\n            ))}\n            {hasFlavorText ? (\n              <>\n                <p>{flavor[0]}</p>\n                <PokemonDetails pokemon={pokemon} />\n              </>\n            ) : (\n              <p>No details were found about this pokemon</p>\n            )}\n          </section>\n        </section>\n      </article>\n    </>\n  );\n}\n","import { useEffect, useReducer, useState } from \"react\";\n\nimport PokedexInfo, { Pokemon } from \"./PokedexInfo\";\n\ntype Action = {\n  type: \"ADD_POKEMONS\";\n  pokemons: Pokemon[];\n  next: string;\n};\n\ntype State = {\n  next: string;\n  pokemons: Pokemon[];\n};\n\nfunction reducer(state: State, action: Action) {\n  switch (action.type) {\n    case \"ADD_POKEMONS\":\n      return {\n        ...state,\n        pokemons: state.pokemons.concat(action.pokemons),\n        next: action.next,\n      };\n    default:\n      return state;\n  }\n}\n\nconst initial = {\n  pokemons: [],\n  next: \"https://pokeapi.co/api/v2/pokemon/?limit=30\",\n};\n\nfunction fetchJSON(input: RequestInfo, init?: RequestInit) {\n  return fetch(input, init).then(response => {\n    if (response.status !== 200) throw response.statusText;\n    return response.json();\n  });\n}\n\nfunction map_async<T, U>(\n  input: T[],\n  transform: (input: T) => Promise<U | null>\n) {\n  return Promise.all(input.map(transform)).then(list =>\n    list.filter(x => x)\n  );\n}\n\n// eslint-disable-next-line no-control-regex\nconst rxWierdCharacter = new RegExp(\"\f|\\\\n\", \"g\");\n\nasync function fetchFlavorText(id: string): Promise<string[]> {\n  try {\n    const data = await fetchJSON(\n      `https://pokeapi.co/api/v2/pokemon-species/${id}/`\n    );\n\n    const flavor: string[] = data.flavor_text_entries\n      .filter((entry: any) => entry.language.name === \"en\")\n      .map((entry: any) =>\n        entry.flavor_text.replace(rxWierdCharacter, \" \")\n      );\n\n    const lowercase = flavor.map(text => text.toLowerCase());\n\n    return flavor.filter((_, index) => {\n      return lowercase.indexOf(lowercase[index], index + 1) < 0;\n    });\n  } catch {\n    return [];\n  }\n}\n\nasync function fetchPokemon({\n  url,\n  name,\n}: {\n  url: string;\n  name: string;\n}): Promise<Pokemon | null> {\n  try {\n    const data = await fetchJSON(url);\n    return {\n      id: data.id,\n      name: name[0].toUpperCase() + name.slice(1),\n      sprites: [data.sprites.front_default, data.sprites.back_default],\n      types: data.types.map((item: any) => item.type.name),\n      flavor: await fetchFlavorText(data.id),\n    };\n  } catch {\n    return null;\n  }\n}\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initial);\n  const [done, setIsDone] = useState(false);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => void fetchData(), []);\n\n  async function fetchData() {\n    if (!state.next) return setIsDone(true);\n    const data = await fetchJSON(state.next);\n    dispatch({\n      type: \"ADD_POKEMONS\",\n      pokemons: (await map_async(data.results, fetchPokemon)) as Pokemon[],\n      next: data.next,\n    });\n  }\n\n  return (\n    <>\n      <div className=\"pokedex\">\n        {state.pokemons.map((pokemon, index) => (\n          <PokedexInfo key={index} pokemon={pokemon} />\n        ))}\n      </div>\n      {done || <button onClick={fetchData}>Load more ...</button>}\n    </>\n  );\n}\n\nexport default App;\n","/* eslint-disable no-restricted-globals */\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\n\nimport App from \"./App\";\n\nif (\n  location.protocol !== \"https\" &&\n  !location.host.startsWith(\"localhost\")\n) {\n  location.href = location.href.replace(\"http://\", \"https://\");\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}